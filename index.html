<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Bilavnova</title>
    <meta name="description" content="Bilavnova Business Intelligence - Dashboard de analise de dados" />

    <!-- Mobile optimizations -->
    <meta name="theme-color" content="#f5f7fa" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)" />
    <meta name="color-scheme" content="light dark" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Preconnect to critical origins (saves 100-300ms per connection on mobile) -->
    <link rel="preconnect" href="https://kudxbgrietiseyrmnllx.supabase.co" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Orbitron font for cosmic precision display typography -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />

    <!-- DNS prefetch fallback for older browsers -->
    <link rel="dns-prefetch" href="https://kudxbgrietiseyrmnllx.supabase.co" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />

    <!-- Theme-aware favicons (follows system preference) -->
    <link rel="icon" type="image/png" href="/favicon-light.png" media="(prefers-color-scheme: light)" />
    <link rel="icon" type="image/png" href="/favicon-dark.png" media="(prefers-color-scheme: dark)" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- iOS PWA Configuration -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Bilavnova" />

    <!-- iOS PWA Splash Screens (generated from brand gradient) -->
    <!-- iPhone 14 Pro Max, 15 Pro Max (430x932 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1290-2796.png"
          media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 14 Pro, 15 Pro (393x852 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1179-2556.png"
          media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 14 Plus, 13 Pro Max, 12 Pro Max (428x926 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1284-2778.png"
          media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 14, 13 Pro, 13, 12 Pro, 12 (390x844 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1170-2532.png"
          media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 13 mini, 12 mini (375x812 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1125-2436.png"
          media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 11 Pro Max, XS Max (414x896 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1242-2688.png"
          media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 11, XR (414x896 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-828-1792.png"
          media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPhone 11 Pro, XS, X (375x812 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1125-2436.png"
          media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 8 Plus, 7 Plus, 6s Plus (414x736 @3x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1242-2208.png"
          media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" />
    <!-- iPhone 8, 7, 6s, SE 2nd/3rd gen (375x667 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-750-1334.png"
          media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPhone SE 1st gen, iPod Touch (320x568 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-640-1136.png"
          media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPad Pro 12.9" (1024x1366 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-2048-2732.png"
          media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPad Pro 11" (834x1194 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1668-2388.png"
          media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPad Air 10.9" (820x1180 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1640-2360.png"
          media="(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPad 10.2", Air 10.5", Pro 10.5" (810x1080, 834x1112 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1620-2160.png"
          media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)" />
    <!-- iPad mini 8.3" (744x1133 @2x) -->
    <link rel="apple-touch-startup-image"
          href="/splash/apple-splash-1488-2266.png"
          media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2)" />

    <!-- Cosmic Precision - Theme-aware initial loading screen v4.0 -->
    <style>
      /* Cosmic space colors */
      :root {
        --space-void: #050816;
        --space-light: #f8fafc;
        --stellar-blue: #2d388a;
        --stellar-cyan: #00aeef;
        --loading-bg: #f8fafc;
        --loading-surface: #ffffff;
        --loading-border: rgba(45, 56, 138, 0.1);
        --loading-text: #0f172a;
        --loading-text-secondary: #64748b;
        --glass-bg: rgba(255, 255, 255, 0.8);
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --loading-bg: #050816;
          --loading-surface: rgba(10, 15, 30, 0.8);
          --loading-border: rgba(0, 174, 239, 0.15);
          --loading-text: #f1f5f9;
          --loading-text-secondary: #94a3b8;
          --glass-bg: rgba(10, 15, 30, 0.7);
        }
      }

      /* Cosmic background with starfield */
      #initial-loader {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: var(--loading-bg);
        z-index: 9999;
        opacity: 1;
        transition: opacity 0.4s ease-out;
      }

      /* Starfield for dark mode */
      @media (prefers-color-scheme: dark) {
        #initial-loader {
          background:
            radial-gradient(ellipse 80% 50% at 50% 0%, rgba(45, 56, 138, 0.2), transparent),
            radial-gradient(1px 1px at 10% 20%, rgba(0, 174, 239, 0.5), transparent),
            radial-gradient(1px 1px at 80% 15%, rgba(255, 255, 255, 0.4), transparent),
            radial-gradient(1px 1px at 25% 35%, rgba(0, 174, 239, 0.3), transparent),
            radial-gradient(1px 1px at 60% 45%, rgba(255, 255, 255, 0.3), transparent),
            radial-gradient(1px 1px at 90% 60%, rgba(0, 174, 239, 0.4), transparent),
            radial-gradient(1px 1px at 15% 70%, rgba(255, 255, 255, 0.3), transparent),
            radial-gradient(1px 1px at 70% 80%, rgba(45, 56, 138, 0.4), transparent),
            var(--space-void);
        }
      }

      /* Subtle grid for light mode */
      @media (prefers-color-scheme: light) {
        #initial-loader::before {
          content: '';
          position: absolute;
          inset: 0;
          background-image:
            linear-gradient(rgba(45, 56, 138, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(45, 56, 138, 0.03) 1px, transparent 1px);
          background-size: 40px 40px;
        }
        #initial-loader::after {
          content: '';
          position: absolute;
          inset: 0;
          background: radial-gradient(ellipse 80% 40% at 50% 0%, rgba(0, 174, 239, 0.08), transparent);
        }
      }

      #initial-loader.fade-out {
        opacity: 0;
        pointer-events: none;
      }

      /* Root element background (prevents dark flash during transition) */
      #root {
        min-height: 100vh;
        background-color: #f8fafc;
      }

      @media (prefers-color-scheme: dark) {
        #root {
          background-color: #050816;
        }
      }

      /* Logo container with orbital ring */
      .loader-logo-wrapper {
        position: relative;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Orbital ring around logo */
      .orbital-ring {
        position: absolute;
        width: 140px;
        height: 140px;
        border: 2px solid transparent;
        border-top-color: var(--stellar-cyan);
        border-right-color: rgba(0, 174, 239, 0.3);
        border-radius: 50%;
        animation: orbit 3s linear infinite;
      }

      @keyframes orbit {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      /* Logo container - glassmorphism */
      .loader-logo-container {
        position: relative;
        width: 100px;
        height: 100px;
        border-radius: 28px;
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--loading-border);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 22px;
        animation: orbital-glow 2.5s ease-in-out infinite;
      }

      .loader-logo-container svg {
        width: 100%;
        height: 100%;
      }

      /* Orbital glow animation */
      @keyframes orbital-glow {
        0%, 100% {
          box-shadow: 0 0 20px rgba(45, 56, 138, 0.2), 0 0 40px rgba(0, 174, 239, 0.1);
        }
        50% {
          box-shadow: 0 0 30px rgba(0, 174, 239, 0.35), 0 0 60px rgba(45, 56, 138, 0.15);
        }
      }

      /* Brand name with Orbitron font */
      .loader-brand {
        position: relative;
        z-index: 10;
        margin-top: 32px;
        font-family: 'Orbitron', -apple-system, 'SF Pro Display', 'Segoe UI', sans-serif;
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.1em;
        /* Fallback color (visible if gradient fails) */
        color: #2d388a;
        /* Gradient text */
        background: linear-gradient(135deg, #2d388a 30%, #00aeef 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Extra fallback for unsupported browsers */
      @supports not (-webkit-background-clip: text) {
        .loader-brand {
          background: none;
          -webkit-text-fill-color: #2d388a;
          color: #2d388a;
        }
      }

      /* Subtitle */
      .loader-subtitle {
        position: relative;
        z-index: 10;
        margin-top: 12px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 13px;
        font-weight: 500;
        letter-spacing: 0.05em;
        color: var(--loading-text-secondary);
        text-transform: uppercase;
      }

      /* Gradient progress accent */
      .loader-accent {
        position: relative;
        z-index: 10;
        width: 80px;
        height: 3px;
        margin-top: 32px;
        border-radius: 2px;
        background: rgba(45, 56, 138, 0.2);
        overflow: hidden;
      }

      .loader-accent::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg, #2d388a, #00aeef);
        animation: progress-shimmer 1.5s ease-in-out infinite;
        transform-origin: left;
      }

      @keyframes progress-shimmer {
        0% { transform: scaleX(0); opacity: 0.5; }
        50% { transform: scaleX(1); opacity: 1; }
        100% { transform: scaleX(0); opacity: 0.5; transform-origin: right; }
      }

      /* Respect reduced motion preference */
      @media (prefers-reduced-motion: reduce) {
        #initial-loader { transition: none; }
        .orbital-ring { animation: none; border-color: var(--stellar-cyan); }
        .loader-logo-container { animation: none; box-shadow: 0 0 25px rgba(0, 174, 239, 0.25); }
        .loader-accent::after { animation: none; transform: scaleX(1); }
      }
    </style>
  </head>
  <body>
    <div id="root">
      <!-- Cosmic Precision initial loader v4.0 -->
      <div id="initial-loader">
        <div class="loader-logo-wrapper">
          <!-- Orbital ring animation -->
          <div class="orbital-ring"></div>
          <!-- Logo container with glassmorphism -->
          <div class="loader-logo-container">
            <!-- Inline Saturn icon SVG with brand gradient -->
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-label="Bilavnova logo">
              <defs>
                <linearGradient id="loaderGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#2d388a"/>
                  <stop offset="100%" stop-color="#00aeef"/>
                </linearGradient>
              </defs>
              <g fill="url(#loaderGradient)">
                <path d="M88.47,49.8C88.19,65.87,78.32,80.58,63,86A38.48,38.48,0,0,1,17,30,38.85,38.85,0,0,1,57.82,12.12C75.7,15.82,88.16,31.77,88.47,49.8c0,1.93,3,1.93,3,0A42,42,0,0,0,64.41,10.91a41.48,41.48,0,0,0-50,60.19A41.89,41.89,0,0,0,57.29,90.62c19.79-3.48,33.84-21,34.19-40.83C91.5,47.87,88.5,47.87,88.47,49.8Z"/>
                <path d="M3.3,51.3H97.63a1.5,1.5,0,0,0,0-3H3.3a1.5,1.5,0,0,0,0,3h0Z"/>
              </g>
            </svg>
          </div>
        </div>
        <div class="loader-brand">BILAVNOVA</div>
        <div class="loader-subtitle">Inicializando</div>
        <div class="loader-accent"></div>
      </div>
    </div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // Remove initial loader when React is ready
      // Delay ensures React content is visible before removing HTML loader
      window.removeInitialLoader = function() {
        var loader = document.getElementById('initial-loader');
        if (loader) {
          // Small delay to ensure React content is rendered
          setTimeout(function() {
            loader.classList.add('fade-out');
            setTimeout(function() { loader.remove(); }, 400);
          }, 100);
        }
      };
    </script>
  </body>
</html>
